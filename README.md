# QQ自动续火图片生成器

#### 介绍

原用于为QQ的自动续火脚本生成图片的java程序。根据命令将图片复制到剪切板中从而通过脚本将图片发送到指定QQ用户中。仍然在开发中……

使用时请安装好JRE 1.8及以上版本

#### 安装教程

todo

#### 使用说明

jar包可以被cmd命令调用，主要功能是将生成图片并将其送入剪贴板中。同时在当前目录下会生成后缀名为json的用户信息。
调用示例（cmd/bash）：
> java -Dfile.encoding=utf-8 -jar QQImageGenerator.jar

可以使用的命令

1. 无 //根据现有的user和operation执行操作
2. addUser name 1111111111 //使用名字和QQ号新建一个用户，会替代已存在的用户
3. deleteUser name //删除该用户
4. clearOperation //清理所有操作序列
5. addOperation ShowMine //增加一个操作序列

可以使用的操作序列

| 操作名       | 含义                                  |
|-----------|-------------------------------------|
| Increment | 增值，每天6%利息，但需要收取250的费用               |
| Looting   | 掠夺，每人掠夺其他人8%+200的经验值，总经验值越高越有可能成为目标 |
| Mining    | 挖矿，在矿脉中挖15个矿物，挖光矿物的人需要2000重置矿脉      |
| ShowMine  | 结果，渲染并向每个人发送图片                      |

#### 参与贡献

1. Fork 本仓库
2. 新建 Feat_xxx 分支
3. 提交代码
4. 新建 Pull Request

#### Todo 以后要做的事情

1. 可视化的配置编辑窗口
2. 图片渲染逻辑重做（使用JavaFx）
3. 稀有物品系统完善
4. 一个全新的游戏类型……

## 更新日志

#### 2023/3/5

1. 重构项目，不再需要AHK即可执行原先操作
2. 所有用户信息存为globe目录下的mine文件夹中，而渲染的图片会存在原来的user文件夹中
3. 图片渲染操作改为多线程执行，而发送图片的操作会使用线程锁限制执行。
4. 设计了一套全新的命令集合，包括执行操作和修改配置

#### 2023/1/22

1. 现在会显示经验值的排行，拥有最高经验值的玩家会排在最前面
2. json文件生成位置改动，玩家信息为user文件夹，其余信息则为globe文件夹
3. 所有人共用一个矿脉，所有玩家随机排序进行挖矿，最后一个挖空的人需要使用2000经验值重置矿脉
4. 每个人拥有1%的概率抽中纪念品，它不会被结算为经验值，具体机制待定
5. 抽中无量或者纪念品时会向所有玩家发送全体消息，消息队列延长
6. 经验值更高的玩家越有可能成为被掠夺的目标，每次掠夺量调整为6%（向下取整）

